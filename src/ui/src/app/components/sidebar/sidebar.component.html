<div class="px-2 w-full flex flex-col justify-center">

    <div id="fg-logo" class="my-4 gap-2 flex items-center">
        <img src="/logo.png" class="w-11 h-11" alt="FileGuard logo">
        <h1 class="text-xl font-light">FileGuard</h1>
    </div>

    <div id="create-new">
        <p-button (onClick)="op.toggle($event)" styleClass="w-full" size="small" icon="pi pi-plus"
            label="Створити нову..."></p-button>
        <p-overlayPanel #op>
            <div class="w-80">
                <h3>Виберіть опцію</h3>
                <p class="m-0 text-sm font-extralight">
                    Виберіть що ви хочете створити,<br /> файл, чи нову папку.
                </p>
                <p-divider />
                <div class="flex gap-3 items-center bg-[#007bd931] rounded px-3 py-2"><i class="pi pi-info-circle"></i> <p class="m-0 text-sm font-extralight" >Зауважте, елементи створюються в "Мої файли" секції, та в папці якій ви зараз знаходитесь.</p></div>
                <p-divider />
                <div class="flex flex-col w-full">
                    <p-button severity="info" (onClick)="folderDialog = true" styleClass="w-full" class="my-2"
                        icon="pi pi-folder-plus" label="Створити нову папку" size="small" />
                    <p-button severity="info" (onClick)="fileUploadDialog = true" styleClass="w-full"
                        icon="pi pi-file-import" label="Імпортувати нові файли" size="small" />
                </div>

            </div>
        </p-overlayPanel>
    </div>

    <div class="my-3 flex justify-content-center">
        <ul class="flex flex-col">
            <li class="my-2">
                <a routerLink="/dashboard" isa [routerLinkActiveOptions]="{ exact: true }" routerLinkActive="active-menu-item"
                    [routerLinkActiveOptions]="routeMatchOptions"
                    class="flex items-center p-3 text-gray-600 hover:text-blue-500">
                    <i class="pi pi-home mr-2 "></i>
                    Мої файли
                </a>
            </li>
            <li class="my-2">
                <a routerLink="/dashboard/shared-with-me" [routerLinkActiveOptions]="{ exact: true }" routerLinkActive="active-menu-item"
                    class="flex items-center p-3 text-gray-600 hover:text-blue-500">
                    <i class="pi pi-user mr-2"></i>
                    Поділилися зі мною
                </a>
            </li>
            <li class="my-2">
                <a routerLink="/dashboard/shared-by-me" [routerLinkActiveOptions]="{ exact: true }" routerLinkActive="active-menu-item"
                    class="flex items-center p-3 text-gray-600 hover:text-blue-500">
                    <i class="pi pi-users mr-2"></i>
                    Я поділився
                </a>
            </li>
        </ul>
    </div>

</div>


<p-dialog header="Cтворення нової папки" [modal]="true" [(visible)]="folderDialog" [style]="{ width: '25rem' }">
    <div class="mt-6 mb-3 w-full">
        <p-floatLabel class="w-full">
            <input pInputText id="username" required class="w-full" [(ngModel)]="folderName" />
            <label class="w-full" for="username">Назва папки</label>
        </p-floatLabel>
    </div>

    <div class="flex justify-end gap-2">
        <p-button size="small" label="Відмінити" severity="secondary" (onClick)="this.cancelFolderCreation()" />
        <p-button size="small" label="Створити" [loading]="buttonLoading" (onClick)="this.createFolder()" />
    </div>
</p-dialog>

<p-dialog header="Імпортуйте нові файли" [modal]="true" [(visible)]="fileUploadDialog" [style]="{ width: '40rem' }">
    <div class="mt-3">
        <fg-file-upload-zone [files]="filesToAdd" (onFileAdd)="onFileAdd($event)"></fg-file-upload-zone>
    </div>

    <div class="flex justify-end gap-2 mt-2">
        <p-button size="small" label="Відмінити" severity="secondary" (onClick)="this.cancelFileUploading()" />
        <p-button size="small" label="Імпортувати"
            [badge]="filesToAdd.length > 0 ? filesToAdd.length.toString() : undefined"
            [disabled]="filesToAdd.length === 0" (onClick)="this.uploadFiles()" />
    </div>
</p-dialog>
